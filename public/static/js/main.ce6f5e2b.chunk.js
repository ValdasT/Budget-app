(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{199:function(e,t,a){e.exports=a(402)},206:function(e,t,a){},208:function(e,t,a){},342:function(e,t,a){},360:function(e,t,a){},374:function(e,t,a){},376:function(e,t,a){},378:function(e,t,a){},380:function(e,t,a){},382:function(e,t,a){},386:function(e,t,a){},388:function(e,t,a){},390:function(e,t,a){},399:function(e,t,a){},402:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(20),i=a.n(l),o=(a(204),a(53)),c=a(54),s=a(62),m=a(55),u=a(64),d=a(411),E=a(414),f=a(413),p=a(412),h=a(195),b=a(57),v=a(13),g=(a(206),a(208),function(){return r.a.createElement("div",{className:"spinner"},r.a.createElement("div",{class:"cssload-inner cssload-one"}),r.a.createElement("div",{class:"cssload-inner cssload-two"}),r.a.createElement("div",{class:"cssload-inner cssload-three"}))}),N=r.a.createContext({token:null,userId:null,login:function(e,t,a){},logout:function(){}}),k=r.a.createContext(),y=a(16),w=a(25),S=function(){var e=Object(n.useContext)(N),t=e.submitHandler,a=e.switchModeHandler;return r.a.createElement(y.d,{initialValues:{firstName:"",lastName:"",email:"",password:"",confirmPassword:""},validationSchema:w.object().shape({firstName:w.string().required("First Name is required"),lastName:w.string().required("Last Name is required"),email:w.string().email("Email is invalid").required("Email is required"),password:w.string().min(6,"Password must be at least 6 characters").required("Password is required"),confirmPassword:w.string().oneOf([w.ref("password"),null],"Passwords must match").required("Confirm Password is required")}),onSubmit:function(e){t(e)},render:function(e){var t=e.errors,n=(e.status,e.touched);return r.a.createElement(y.c,{className:"auth-form",id:"formContentSignUp"},r.a.createElement("div",{className:"p-2"},r.a.createElement("h4",null,"Create account")),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-4 col-form-label",htmlFor:"firstName"},"First Name"),r.a.createElement("div",{className:"col-sm-8 col-form-label"},r.a.createElement(y.b,{placeholder:"Firs name",name:"firstName",type:"text",className:"form-control"+(t.firstName&&n.firstName?" is-invalid":"")}),r.a.createElement(y.a,{name:"firstName",component:"div",className:"invalid-feedback"}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-4 col-form-label",htmlFor:"lastName"},"Last Name"),r.a.createElement("div",{className:"col-sm-8"},r.a.createElement(y.b,{placeholder:"Last name",name:"lastName",type:"text",className:"form-control"+(t.lastName&&n.lastName?" is-invalid":"")}),r.a.createElement(y.a,{name:"lastName",component:"div",className:"invalid-feedback"}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-4 col-form-label",htmlFor:"email"},"Email"),r.a.createElement("div",{className:"col-sm-8"},r.a.createElement(y.b,{placeholder:"Email",name:"email",type:"text",className:"form-control"+(t.email&&n.email?" is-invalid":"")}),r.a.createElement(y.a,{name:"email",component:"div",className:"invalid-feedback"}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-4 col-form-label",htmlFor:"password"},"Password"),r.a.createElement("div",{className:"col-sm-8"},r.a.createElement(y.b,{placeholder:"Password",name:"password",type:"password",className:"form-control"+(t.password&&n.password?" is-invalid":"")}),r.a.createElement(y.a,{name:"password",component:"div",className:"invalid-feedback"}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-4 col-form-label",htmlFor:"confirmPassword"},"Confirm Password"),r.a.createElement("div",{className:"col-sm-8"},r.a.createElement(y.b,{placeholder:"Confirm",name:"confirmPassword",type:"password",className:"form-control"+(t.confirmPassword&&n.confirmPassword?" is-invalid":"")}),r.a.createElement(y.a,{name:"confirmPassword",component:"div",className:"invalid-feedback"}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{type:"submit",className:"btn btn-primary mr-2"},"Register"),r.a.createElement("button",{onClick:a,type:"button",className:"btn btn-secondary mr-2"},"Sign in")))}})},O=function(){var e=Object(n.useContext)(N),t=e.submitHandler,a=e.switchModeHandler;return r.a.createElement(y.d,{initialValues:{email:"",password:""},validationSchema:w.object().shape({email:w.string().email("Email is invalid").required("Email is required"),password:w.string().required("Password is required")}),onSubmit:function(e){t(e)},render:function(e){var t=e.errors,n=(e.status,e.touched);return r.a.createElement(y.c,{className:"auth-form",id:"formContentSignIn"},r.a.createElement("div",{className:"p-2"},r.a.createElement("h4",null,"Sign in")),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-3 col-form-label",htmlFor:"email"},"Email"),r.a.createElement("div",{className:"col-sm-9"},r.a.createElement(y.b,{placeholder:"Email",name:"email",type:"text",className:"form-control"+(t.email&&n.email?" is-invalid":"")}),r.a.createElement(y.a,{name:"email",component:"div",className:"invalid-feedback"}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-3 col-form-label",htmlFor:"password"},"Password"),r.a.createElement("div",{className:"col-sm-9"},r.a.createElement(y.b,{placeholder:"Password",name:"password",type:"password",className:"form-control"+(t.password&&n.password?" is-invalid":"")}),r.a.createElement(y.a,{name:"password",component:"div",className:"invalid-feedback"}))),r.a.createElement("div",{className:"form-actions"},r.a.createElement("button",{type:"submit",className:"btn btn-primary mr-2"},"Submit"),r.a.createElement("button",{onClick:a,type:"button",className:"btn btn-secondary mr-2"},"Sign up")))}})},C=a(407),j=a(185),x=(a(342),function(){var e=Object(n.useContext)(k),t=e.modalHeader,a=e.modalText,l=e.showModal,i=e.setShowModal,o=function(){return i(!1)};return r.a.createElement(n.Fragment,null,r.a.createElement(C.a,{"aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:l,onHide:o},r.a.createElement(C.a.Header,{closeButton:!0},r.a.createElement(C.a.Title,null,t)),r.a.createElement(C.a.Body,null,a),r.a.createElement(C.a.Footer,null,r.a.createElement(j.a,{variant:"secondary",onClick:o},"Ok"))))}),_=function(){var e=Object(n.useState)(!1),t=Object(v.a)(e,2),a=t[0],l=t[1],i=Object(n.useState)(!1),o=Object(v.a)(i,2),c=o[0],s=o[1],m=Object(n.useState)(!1),u=Object(v.a)(m,2),d=u[0],E=u[1],f=Object(n.useState)(""),p=Object(v.a)(f,2),h=p[0],b=p[1],y=Object(n.useState)(),w=Object(v.a)(y,2),C=w[0],j=w[1],_=function(e,t,a){E(e),b(t),j(a)},P=Object(n.useContext)(N).login,F=function(){return l(!a)};return r.a.createElement(k.Provider,{value:{modalHeader:h,modalText:C,showModal:d,setShowModal:E}},r.a.createElement(N.Provider,{value:{submitHandler:function(e){s(!0);var t={query:"\n              query Login($email: String!, $password: String!) {\n                login(email: $email, password: $password) {\n                  userId\n                  token\n                  tokenExpiration\n                }\n              }\n            ",variables:{email:e.email,password:e.password}};a&&(t={query:"\n            mutation CreateUser($email: String!, $password: String!, $name: String!, $surname: String!) {\n              createUser(userInput: {email: $email, password: $password, name: $name, surname: $surname}) {\n                _id\n                email\n              }\n            }\n          ",variables:{email:e.email,password:e.password,name:e.firstName,surname:e.lastName}}),fetch("/graphql",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then(function(e){if(!e.ok)throw s(!1),e.statusText;return e.json()}).then(function(e){s(!1),e.data.login?P(e.data.login.token,e.data.login.userId,e.data.login.tokenExpiration):(_(!0,"Confirmation","Your account was created. Now You can sign in."),F())}).catch(function(e){throw s(!1),_(!0,"Oops!","Your email or password is incorect."),e})},switchModeHandler:F}},r.a.createElement(x,null),c?r.a.createElement(g,null):r.a.createElement(n.Fragment,null,a?r.a.createElement(S,null):r.a.createElement(O,null))))},P=(a(360),function(e){return r.a.createElement("ul",{className:"bookings__list"},e.bookings.map(function(t){return r.a.createElement("li",{key:t._id,className:"bookings__item"},r.a.createElement("div",{className:"bookings__item-data"},t.event.title," -"," ",new Date(t.createdAt).toLocaleDateString()),r.a.createElement("div",{className:"bookings__item-actions"},r.a.createElement("button",{className:"btn",onClick:e.onDelete.bind(void 0,t._id)},"Cancel")))}))}),F=a(60),I=a(186),q={Cheap:{min:0,max:100},Normal:{min:100,max:200},Expensive:{min:200,max:1e7}},T=function(e){var t={labels:[],datasets:[]},a=[],n=function(n){var r=e.bookings.reduce(function(e,t){return t.event.price>q[n].min&&t.event.price<q[n].max?e+1:e},0);a.push(r),t.labels.push(n),t.datasets.push({fillColor:"rgba(220,220,220,0.5)",strokeColor:"rgba(220,220,220,0.8)",highlightFill:"rgba(220,220,220,0.75)",highlightStroke:"rgba(220,220,220,1)",data:a}),(a=Object(F.a)(a))[a.length-1]=0};for(var l in q)n(l);return r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(I.Bar,{data:t}))},D=(a(374),function(e){return r.a.createElement("div",{className:"bookings-control"},r.a.createElement("button",{className:"list"===e.activeOutputType?"active":"",onClick:e.onChange.bind(void 0,"list")},"List"),r.a.createElement("button",{className:"chart"===e.activeOutputType?"active":"",onClick:e.onChange.bind(void 0,"chart")},"Chart"))}),L=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={isLoading:!1,bookings:[],outputType:"list"},a.fetchBookings=function(){a.setState({isLoading:!0});fetch("http://localhost:8000/graphql",{method:"POST",body:JSON.stringify({query:"\n          query {\n            bookings {\n              _id\n             createdAt\n             event {\n               _id\n               title\n               date\n               price\n             }\n            }\n          }\n        "}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+a.context.token}}).then(function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()}).then(function(e){var t=e.data.bookings;a.setState({bookings:t,isLoading:!1})}).catch(function(e){console.log(e),a.setState({isLoading:!1})})},a.deleteBookingHandler=function(e){a.setState({isLoading:!0});var t={query:"\n          mutation CancelBooking($id: ID!) {\n            cancelBooking(bookingId: $id) {\n            _id\n             title\n            }\n          }\n        ",variables:{id:e}};fetch("http://localhost:8000/graphql",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json",Authorization:"Bearer "+a.context.token}}).then(function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()}).then(function(t){a.setState(function(t){return{bookings:t.bookings.filter(function(t){return t._id!==e}),isLoading:!1}})}).catch(function(e){console.log(e),a.setState({isLoading:!1})})},a.changeOutputTypeHandler=function(e){"list"===e?a.setState({outputType:"list"}):a.setState({outputType:"chart"})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.fetchBookings()}},{key:"render",value:function(){var e=r.a.createElement(g,null);return this.state.isLoading||(e=r.a.createElement(r.a.Fragment,null,r.a.createElement(D,{activeOutputType:this.state.outputType,onChange:this.changeOutputTypeHandler}),r.a.createElement("div",null,"list"===this.state.outputType?r.a.createElement(P,{bookings:this.state.bookings,onDelete:this.deleteBookingHandler}):r.a.createElement(T,{bookings:this.state.bookings})))),r.a.createElement(r.a.Fragment,null,e)}}]),t}(n.Component);L.contextType=N;var $=L,H=(a(376),function(){return r.a.createElement("div",{className:"backdrop"})}),A=(a(378),function(e){return r.a.createElement("li",{key:e.eventId,className:"events__list-item"},r.a.createElement("div",null,r.a.createElement("h1",null,e.title),r.a.createElement("h2",null,"$",e.price," - ",new Date(e.date).toLocaleDateString())),r.a.createElement("div",null,e.userId===e.creatorId?r.a.createElement("p",null,"Your the owner of this event."):r.a.createElement("button",{className:"btn",onClick:e.onDetail.bind(void 0,e.eventId)},"View Details")))}),B=(a(380),function(e){var t=e.events.map(function(t){return r.a.createElement(A,{key:t._id,eventId:t._id,title:t.title,price:t.price,date:t.date,userId:e.authUserId,creatorId:t.creator._id,onDetail:e.onViewDetail})});return r.a.createElement("ul",{className:"event__list"},t)}),R=(a(382),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).state={creating:!1,events:[],isLoading:!1,selectedEvent:null},a.isActive=!0,a.startCreateEventHandler=function(){a.setState({creating:!0})},a.modalConfirmHandler=function(){a.setState({creating:!1});var e=a.titleElRef.current.value,t=+a.priceElRef.current.value,n=a.dateElRef.current.value,r=a.descriptionElRef.current.value;if(!(0===e.trim().length||t<=0||0===n.trim().length||0===r.trim().length)){var l={title:e,price:t,date:n,description:r};console.log(l);var i={query:"\n          mutation CreateEvent($title: String!, $desc: String!, $price: Float!, $date: String!) {\n            createEvent(eventInput: {title: $title, description: $desc, price: $price, date: $date}) {\n              _id\n              title\n              description\n              date\n              price\n            }\n          }\n        ",variables:{title:e,desc:r,price:t,date:n}},o=a.context.token;fetch("http://localhost:8000/graphql",{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json",Authorization:"Bearer "+o}}).then(function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()}).then(function(e){a.setState(function(t){var n=Object(F.a)(t.events);return n.push({_id:e.data.createEvent._id,title:e.data.createEvent.title,description:e.data.createEvent.description,date:e.data.createEvent.date,price:e.data.createEvent.price,creator:{_id:a.context.userId}}),{events:n}})}).catch(function(e){console.log(e)})}},a.modalCancelHandler=function(){a.setState({creating:!1,selectedEvent:null})},a.showDetailHandler=function(e){a.setState(function(t){return{selectedEvent:t.events.find(function(t){return t._id===e})}})},a.bookEventHandler=function(){if(a.context.token){console.log(a.state.selectedEvent);var e={query:"\n          mutation BookEvent($id: ID!) {\n            bookEvent(eventId: $id) {\n              _id\n             createdAt\n             updatedAt\n            }\n          }\n        ",variables:{id:a.state.selectedEvent._id}};fetch("http://localhost:8000/graphql",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json",Authorization:"Bearer "+a.context.token}}).then(function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()}).then(function(e){console.log(e),a.setState({selectedEvent:null})}).catch(function(e){console.log(e)})}else a.setState({selectedEvent:null})},a.titleElRef=r.a.createRef(),a.priceElRef=r.a.createRef(),a.dateElRef=r.a.createRef(),a.descriptionElRef=r.a.createRef(),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.fetchEvents()}},{key:"fetchEvents",value:function(){var e=this;this.setState({isLoading:!0});fetch("http://localhost:8000/graphql",{method:"POST",body:JSON.stringify({query:"\n          query {\n            events {\n              _id\n              title\n              description\n              date\n              price\n              creator {\n                _id\n                email\n              }\n            }\n          }\n        "}),headers:{"Content-Type":"application/json"}}).then(function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()}).then(function(t){var a=t.data.events;e.isActive&&e.setState({events:a,isLoading:!1})}).catch(function(t){console.log(t),e.isActive&&e.setState({isLoading:!1})})}},{key:"componentWillUnmount",value:function(){this.isActive=!1}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,(this.state.creating||this.state.selectedEvent)&&r.a.createElement(H,null),this.state.creating&&r.a.createElement(x,{title:"Add Event",canCancel:!0,canConfirm:!0,onCancel:this.modalCancelHandler,onConfirm:this.modalConfirmHandler,confirmText:"Confirm"},r.a.createElement("form",null,r.a.createElement("div",{className:"form-control"},r.a.createElement("label",{htmlFor:"title"},"Title"),r.a.createElement("input",{type:"text",id:"title",ref:this.titleElRef})),r.a.createElement("div",{className:"form-control"},r.a.createElement("label",{htmlFor:"price"},"Price"),r.a.createElement("input",{type:"number",id:"price",ref:this.priceElRef})),r.a.createElement("div",{className:"form-control"},r.a.createElement("label",{htmlFor:"date"},"Date"),r.a.createElement("input",{type:"datetime-local",id:"date",ref:this.dateElRef})),r.a.createElement("div",{className:"form-control"},r.a.createElement("label",{htmlFor:"description"},"Description"),r.a.createElement("textarea",{id:"description",rows:"4",ref:this.descriptionElRef})))),this.state.selectedEvent&&r.a.createElement(x,{title:this.state.selectedEvent.title,canCancel:!0,canConfirm:!0,onCancel:this.modalCancelHandler,onConfirm:this.bookEventHandler,confirmText:this.context.token?"Book":"Confirm"},r.a.createElement("h1",null,this.state.selectedEvent.title),r.a.createElement("h2",null,"$",this.state.selectedEvent.price," -"," ",new Date(this.state.selectedEvent.date).toLocaleDateString()),r.a.createElement("p",null,this.state.selectedEvent.description)),this.context.token&&r.a.createElement("div",{className:"events-control"},r.a.createElement("p",null,"Share your own Events!"),r.a.createElement("button",{className:"btn",onClick:this.startCreateEventHandler},"Create Event")),this.state.isLoading?r.a.createElement(g,null):r.a.createElement(B,{events:this.state.events,authUserId:this.context.userId,onViewDetail:this.showDetailHandler}))}}]),t}(n.Component));R.contextType=N;var J=R,M=a(88),U=r.a.createContext(),Y=function(){var e=Object(n.useContext)(U),t=e.count,a=e.fruit,l=e.dataFromDb,i=Object(n.useState)("Baravykas"),o=Object(v.a)(i,2),c=o[0],s=o[1];return r.a.createElement("div",null,r.a.createElement("p",null,"Your name is ",c," ",t," ",l.lenght),r.a.createElement("button",{className:"btn",onClick:function(){return s(c="Johan")}},"Johan"),r.a.createElement("button",{className:"btn",onClick:function(){return s(c="Perter")}},"Peter"),r.a.createElement("button",{className:"btn",onClick:function(){return s(c=a)}},"Putin"))},z=a(52),V=a.n(z);function X(){var e=Object(M.a)(["query {\n        allFiles {\n            _id\n            title\n            description\n          }\n      }"]);return X=function(){return e},e}var G=function(){var e=V()(X()),t=Object(n.useState)(!1),a=Object(v.a)(t,2),l=a[0],i=a[1],o=Object(n.useState)(0),c=Object(v.a)(o,2),s=c[0],m=c[1],u=Object(n.useState)("Fakama"),d=Object(v.a)(u,2),E=d[0],f=d[1],p=Object(n.useState)([]),h=Object(v.a)(p,2),g=h[0],N=h[1],k=function(){var e=["Banana","Abricot","Apple","Kiwi"];return e[Math.floor(Math.random()*e.length)]};Object(n.useEffect)(function(){var e;document.title="You clicked ".concat(s," times"),e=E,console.log(e)},[E]);return r.a.createElement(U.Provider,{value:{count:s,fruit:E,dataFromDb:g}},r.a.createElement(Y,null),l,r.a.createElement("button",{onClick:function(){i(l=r.a.createElement("div",null,r.a.createElement("h1",null,"----------------------"),r.a.createElement(b.b,{query:e},function(e){var t=e.loading,a=e.err,l=e.data;return t?r.a.createElement("h1",null,"Loading"):a?r.a.createElement("h1",null,a):l?(f(E=k()),r.a.createElement(n.Fragment,null,l.allFiles.map(function(e){return r.a.createElement("div",{key:e._id},e._id)}))):void 0}),r.a.createElement("h1",null,"----------------------")))}},"Show?"),r.a.createElement("button",{className:"btn btn-primary btn-sm mr-2",onClick:function(){fetch("/graphql",{method:"POST",body:JSON.stringify({query:"\n              query {\n                allFiles {\n                    _id\n                    title\n                    description\n                  }\n              }\n            "}),headers:{"Content-Type":"application/json"}}).then(function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()}).then(function(e){N(g=e.data.allFiles),console.log(g)}).catch(function(e){console.log(e)})}},"Get Files from db!"),r.a.createElement("button",{disabled:!g.length,className:"btn btn-primary btn-sm",onClick:function(){N(g=[])}},"Clear from screen"),r.a.createElement(n.Fragment,null,r.a.createElement("div",null,"There is ",g.length," in db!"),g.map(function(e){return r.a.createElement("div",{key:e._id},e._id)})),r.a.createElement("p",null,"You clicked ",s," times"),r.a.createElement("button",{className:"btn btn-primary btn-sm",onClick:function(){return m(s+1)}},"Click me +1"),r.a.createElement("button",{className:"btn btn-primary btn-sm",onClick:function(){return m(s-1)}},"Click me -1"),r.a.createElement("button",{className:"btn btn-primary btn-sm",onClick:function(){return m(s=0)}},"reset"),r.a.createElement("div",null,r.a.createElement("p",null,"You faforite fruit is ",E," "),r.a.createElement("button",{className:"btn btn-primary btn-sm",onClick:function(){return f(E=k())}},"pick fruit")))},K=function(e,t){switch(t.type){case"POPULATE_ EXPENSES":return t.expenses;case"ADD_EXPENSE":return[].concat(Object(F.a)(e),[{title:t.title,body:t.body}]);case"REMOVE_EXPENSE":return e.filter(function(e){return e.title!==t.title});default:return e}},W=r.a.createContext(),Q=(a(386),function(e){var t=e.expense,a=Object(n.useContext)(W).dispatch;return r.a.createElement("div",{className:"events_list-item"},r.a.createElement("h1",null,t.title),r.a.createElement("h2",null,t.body),r.a.createElement("button",{className:"btn",onClick:function(){return a({type:"REMOVE_EXPENSE",title:t.title})}},"x"))}),Z=(a(388),function(){return Object(n.useContext)(W).expenses.map(function(e){return r.a.createElement(Q,{className:"expenses_list",key:e.title,expense:e})})}),ee=function(){var e=Object(n.useContext)(W).dispatch,t=Object(n.useState)(""),a=Object(v.a)(t,2),l=a[0],i=a[1],o=Object(n.useState)(""),c=Object(v.a)(o,2),s=c[0],m=c[1],u=Object(n.useState)(!1),d=Object(v.a)(u,2),E=d[0],f=d[1];return r.a.createElement("div",null,"this is ",E,r.a.createElement("button",{className:"btn",onClick:function(){return f(E=!E)}},"add expense2"),E&&r.a.createElement(W.Provider,{value:{startAdd:E,cancelButton:function(){return f(E=!E)}}},r.a.createElement(H,null),r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e({type:"ADD_EXPENSE",title:l,body:s}),i(""),m("")}},r.a.createElement("input",{value:l,onChange:function(e){return i(e.target.value)}}),r.a.createElement("textarea",{value:s,onChange:function(e){return m(e.target.value)}}),r.a.createElement("button",{className:"btn"},"add expense"))))},te=function(){var e=Object(n.useReducer)(K,[]),t=Object(v.a)(e,2),a=t[0],l=t[1];return Object(n.useEffect)(function(){var e=JSON.parse(localStorage.getItem("expenses"));e&&l({type:"POPULATE_EXPENSES",expenses:e})},[]),Object(n.useEffect)(function(){localStorage.setItem("expenses",JSON.stringify(a))},[a]),r.a.createElement(W.Provider,{value:{expenses:a,dispatch:l}},r.a.createElement("h1",null,"Expenses"),r.a.createElement(ee,null),r.a.createElement(Z,null))},ae=a(406),ne=a(408),re=a(410),le=a(409),ie=a(128),oe=a(194),ce=(a(390),function(){return r.a.createElement(N.Consumer,null,function(e){return r.a.createElement(n.Fragment,null,r.a.createElement(ne.a,{bg:"dark",variant:"dark"},r.a.createElement(ne.a.Brand,{as:ae.a,to:"/"},r.a.createElement(ie.b,{size:40,className:"main-navigation__logo"}),"Budget planner"),r.a.createElement(re.a,{className:"main-navigation__items"},!e.token&&r.a.createElement("li",null,r.a.createElement(re.a.Link,{as:ae.a,to:"/auth"},"Sign in")),e.token&&r.a.createElement(le.a,{alignRight:!0,title:r.a.createElement("span",null,r.a.createElement(oe.a,{size:25})),id:"collasible-nav-dropdown"},r.a.createElement(le.a.Item,{as:ae.a,to:"/settings"},"Settings"),r.a.createElement(le.a.Divider,null),r.a.createElement(le.a.Item,{onClick:e.logout},"Logout")),e.token&&r.a.createElement(le.a,{alignRight:!0,title:r.a.createElement("span",null,r.a.createElement(ie.a,{size:25})),id:"collasible-nav-dropdown"},r.a.createElement(le.a.Item,{as:ae.a,to:"/events"},"Events"),r.a.createElement(le.a.Item,{as:ae.a,to:"/bookings"},"Bookings"),r.a.createElement(le.a.Item,{as:ae.a,to:"/expenses"},"Expenses"),r.a.createElement(le.a.Item,{as:ae.a,to:"/incomes"},"Incomes"),r.a.createElement(le.a.Item,{as:ae.a,to:"/statistics"},"Statistics")))))})}),se=(a(399),new h.a({uri:"/graphql"})),me=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={token:null,userId:null},a.login=function(e,t,n){a.setState({token:e,userId:t})},a.logout=function(){a.setState({token:null,userId:null})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(b.a,{client:se},r.a.createElement(d.a,null,r.a.createElement(n.Fragment,null,r.a.createElement(N.Provider,{value:{token:this.state.token,userId:this.state.userId,login:this.login,logout:this.logout}},r.a.createElement(ce,null),r.a.createElement("main",{className:"main-content"},r.a.createElement(E.a,null,r.a.createElement(f.a,{path:"/test",component:G}),r.a.createElement(f.a,{path:"/expenses",component:te}),this.state.token&&r.a.createElement(p.a,{from:"/",to:"/events",exact:!0}),this.state.token&&r.a.createElement(p.a,{from:"/auth",to:"/events",exact:!0}),!this.state.token&&r.a.createElement(f.a,{path:"/auth",component:_}),r.a.createElement(f.a,{path:"/events",component:J}),this.state.token&&r.a.createElement(f.a,{path:"/bookings",component:$}),!this.state.token&&r.a.createElement(p.a,{to:"/auth",exact:!0})))))))}}]),t}(n.Component);i.a.render(r.a.createElement(me,null),document.getElementById("root"))}},[[199,2,1]]]);
//# sourceMappingURL=main.ce6f5e2b.chunk.js.map